

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>9. Performance Monitoring - RISC-V VeeR EL2 Programmer's Reference Manual  documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="_static/sphinx_immaterial_theme.02cb18745d09eea51.min.css?v=ff456132" />
        <link rel="stylesheet" type="text/css" href="_static/main.css" />
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="white">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="RISC-V VeeR EL2 Programmer&#39;s Reference Manual  documentation" class="md-header__button md-logo" aria-label="RISC-V VeeR EL2 Programmer's Reference Manual  documentation" data-md-component="logo">
      <img src="_static/white.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RISC-V VeeR EL2 Programmer's Reference Manual  documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              9. Performance Monitoring
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="RISC-V VeeR EL2 Programmer&#39;s Reference Manual  documentation" class="md-nav__button md-logo" aria-label="RISC-V VeeR EL2 Programmer's Reference Manual  documentation" data-md-component="logo">
      <img src="_static/white.svg" alt="logo">
    </a>
    RISC-V VeeR EL2 Programmer's Reference Manual  documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="intro.html" class="md-nav__link">
        <span class="md-ellipsis">RISC-<wbr>V Vee<wbr>R EL2 Programmerâ€™s Reference Manual</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="overview.html" class="md-nav__link">
        <span class="md-ellipsis">Core Overview</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="memory-map.html" class="md-nav__link">
        <span class="md-ellipsis">Memory Map</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="error-protection.html" class="md-nav__link">
        <span class="md-ellipsis">Memory Error Protection</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="dual-core-lock-step.html" class="md-nav__link">
        <span class="md-ellipsis">Dual-<wbr>Core Lockstep <wbr>(DCLS)</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="timers.html" class="md-nav__link">
        <span class="md-ellipsis">Internal Timers</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="power.html" class="md-nav__link">
        <span class="md-ellipsis">Power Management and Multi-<wbr>Core Debug Control</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="interrupts.html" class="md-nav__link">
        <span class="md-ellipsis">External Interrupts</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">Performance Monitoring</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">Performance Monitoring</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">Features</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-status-registers" class="md-nav__link">
    <span class="md-ellipsis">Control/Status Registers</span>
  </a>
  
    <nav class="md-nav" aria-label="Control/Status Registers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-risc-v-registers" class="md-nav__link">
    <span class="md-ellipsis">Standard RISC-<wbr>V Registers</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#counters" class="md-nav__link">
    <span class="md-ellipsis">Counters</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#count-impacting-conditions" class="md-nav__link">
    <span class="md-ellipsis">Count-<wbr>Impacting Conditions</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">Events</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="cache.html" class="md-nav__link">
        <span class="md-ellipsis">Cache Control</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="debugging.html" class="md-nav__link">
        <span class="md-ellipsis">Debug Support</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="core-control.html" class="md-nav__link">
        <span class="md-ellipsis">Low-<wbr>Level Core Control</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="adaptations.html" class="md-nav__link">
        <span class="md-ellipsis">Standard RISC-<wbr>V CSRs with Core-<wbr>Specific Adaptations</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="csrs.html" class="md-nav__link">
        <span class="md-ellipsis">CSR Address Map</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="interrupt-priority.html" class="md-nav__link">
        <span class="md-ellipsis">Interrupt Priorities</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="clocks.html" class="md-nav__link">
        <span class="md-ellipsis">Clock And Reset</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="complex-ports.html" class="md-nav__link">
        <span class="md-ellipsis">Complex Port List</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="build-args.html" class="md-nav__link">
        <span class="md-ellipsis">Build Arguments</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="tests.html" class="md-nav__link">
        <span class="md-ellipsis">Compliance Test Suite Failures</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="errata.html" class="md-nav__link">
        <span class="md-ellipsis">Errata</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="physical-memory-protection.html" class="md-nav__link">
        <span class="md-ellipsis">Physical Memory Protection</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="user-mode.html" class="md-nav__link">
        <span class="md-ellipsis">User Mode</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="verification.html" class="md-nav__link">
        <span class="md-ellipsis">Verification</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="simulation-debugging.html" class="md-nav__link">
        <span class="md-ellipsis">Interactive Debugging in Simulation</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="tock.html" class="md-nav__link">
        <span class="md-ellipsis">Running Tock OS</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="performance-monitoring"><span class="section-number">9. </span>Performance Monitoring<a class="headerlink" href="#performance-monitoring" title="Link to this heading">Â¶</a></h1>
<p>This chapter describes the performance monitoring features of the VeeR EL2 core.</p>
<h2 id="features"><span class="section-number">9.1. </span>Features<a class="headerlink" href="#features" title="Link to this heading">Â¶</a></h2>
<p>VeeR EL2 provides these performance monitoring features:</p>
<ul class="simple">
<li><p>Four standard 64-bit wide event counters</p></li>
<li><p>Standard separate event selection for each counter</p></li>
<li><p>Standard selective count enable/disable controllability</p></li>
<li><p>Standard synchronized counter enable/disable controllability</p></li>
<li><p>Standard cycle counter</p></li>
<li><p>Standard retired instructions counter</p></li>
<li><p>Support for standard SoC-based machine timer registers</p></li>
</ul>
<h2 id="control-status-registers"><span class="section-number">9.2. </span>Control/Status Registers<a class="headerlink" href="#control-status-registers" title="Link to this heading">Â¶</a></h2>
<h3 id="standard-risc-v-registers"><span class="section-number">9.2.1. </span>Standard RISC-V Registers<a class="headerlink" href="#standard-risc-v-registers" title="Link to this heading">Â¶</a></h3>
<p>A list of performance monitoring-related standard RISC-V CSRs with references to their definitions:</p>
<ul class="simple">
<li><p>Machine Hardware Performance Monitor (<code class="docutils literal notranslate"><span class="pre">mcycle{|h}</span></code>, <code class="docutils literal notranslate"><span class="pre">minstret{|h}</span></code>, <code class="docutils literal notranslate"><span class="pre">mhpmcounter3{|h}</span></code>- <code class="docutils literal notranslate"><span class="pre">mhpmcounter31{|h}</span></code>, and <code class="docutils literal notranslate"><span class="pre">mhpmevent3</span></code>-<code class="docutils literal notranslate"><span class="pre">mhpmevent31</span></code>) (see Section 3.1.11 in <a class="reference internal" href="intro.html#ref-2"><span class="std std-ref">[2]</span></a>)</p></li>
<li><p>Machine Counter-Inhibit Register <a class="footnote-reference brackets" href="#fn-performance-1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> (<code class="docutils literal notranslate"><span class="pre">mcountinhibit</span></code>) (see Section 3.1.13 in <a class="reference internal" href="intro.html#ref-2"><span class="std std-ref">[2]</span></a>)</p></li>
<li><p>Machine Timer Registers (<code class="docutils literal notranslate"><span class="pre">mtime</span></code> and <code class="docutils literal notranslate"><span class="pre">mtimecmp</span></code>) (see Section 3.1.10 in <a class="reference internal" href="intro.html#ref-2"><span class="std std-ref">[2]</span></a>)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">mtime</span></code> and <code class="docutils literal notranslate"><span class="pre">mtimecmp</span></code> are memory-mapped registers which must be provided by the SoC.</p>
</div>
<h2 id="counters"><span class="section-number">9.3. </span>Counters<a class="headerlink" href="#counters" title="Link to this heading">Â¶</a></h2>
<p>Only event counters 3 to 6 (<code class="docutils literal notranslate"><span class="pre">mhpmcounter3{|h}</span></code>-<code class="docutils literal notranslate"><span class="pre">mhpmcounter6{|h}</span></code>) and their corresponding event selectors (<code class="docutils literal notranslate"><span class="pre">mhpmevent3</span></code>-<code class="docutils literal notranslate"><span class="pre">mhpmevent6</span></code>) are functional on VeeR EL2.</p>
<p>Event counters 7 to 31 (<code class="docutils literal notranslate"><span class="pre">mhpmcounter7{|h}</span></code>-<code class="docutils literal notranslate"><span class="pre">mhpmcounter31{|h}</span></code>) and their corresponding event selectors (<code class="docutils literal notranslate"><span class="pre">mhpmevent7</span></code>-<code class="docutils literal notranslate"><span class="pre">mhpmevent31</span></code>) are hardwired to â€˜0â€™.</p>
<h2 id="count-impacting-conditions"><span class="section-number">9.4. </span>Count-Impacting Conditions<a class="headerlink" href="#count-impacting-conditions" title="Link to this heading">Â¶</a></h2>
<p>A few comments to consider on conditions that have an impact on the performance monitor counting:</p>
<ul class="simple">
<li><p>While in the pmu/fw-halt power management state, performance counters (including the <code class="docutils literal notranslate"><span class="pre">mcycle</span></code> counter) are disabled.</p></li>
<li><p>While in debug halt (db-halt) state, the <em>stopcount</em> bit of the <code class="docutils literal notranslate"><span class="pre">dcsr</span></code> register (see <a class="reference internal" href="debugging.html#debug-control-and-status-register-dcsr"><span class="std std-ref">Debug Control and Status Register (dcsr)</span></a>) determines if performance counters are enabled.</p></li>
<li><p>While in the pmu/fw-halt power management state or the debug halt (db-halt) state with the stopcount bit set, DMA accesses are allowed, but not counted by the performance counters. It would be up to the bus master to count accesses while the core is in a halt state.</p></li>
<li><p>While executing PAUSE, performance counters are enabled.</p></li>
</ul>
<p>Also, it is recommended that the performance counters are disabled (using the <code class="docutils literal notranslate"><span class="pre">mcountinhibit</span></code> register) before the counters and event selectors are modified, and then reenabled again.
This minimizes the impact of reading and writing the counter and event selector CSRs on the event count values, specifically for the CSR read/write events (i.e., events #16 and #17).
In general, performance counters are incremented after a read access to the counter CSRs, but before a write access to the counter CSRs.</p>
<h2 id="events"><span class="section-number">9.5. </span>Events<a class="headerlink" href="#events" title="Link to this heading">Â¶</a></h2>
<p><a class="reference internal" href="#tab-list-of-countable-events"><span class="std std-numref">Table 9.1</span></a> provides a list of the countable events.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The event selector registers <code class="docutils literal notranslate"><span class="pre">mhpmevent3</span></code>-<code class="docutils literal notranslate"><span class="pre">mhpmevent6</span></code> have WARL behavior. When writing either a value marked as â€˜Reservedâ€™ or larger than the highest supported event number, the event selector is set to â€˜0â€™ (i.e., no event counted).</p>
</div>
<table class="docutils data align-default" id="tab-list-of-countable-events">
<caption><span class="caption-number">Table 9.1 </span><span class="caption-text">List of Countable Events</span><a class="headerlink" href="#tab-list-of-countable-events" title="Link to this table">Â¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Event No</strong></p></td>
<td><p><strong>Event Name</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td></td>
<td><p>Reserved (no event counted)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Events counted while in Active (C0) state</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Legend: IP = In-Pipe; OOP = Out-Of-Pipe</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>cycles clocks active</p></td>
<td><p>Number of cycles clock active (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>I-cache hits</p></td>
<td><p>Number of I-cache hits (OOP, speculative, valid fetch &amp; hit)</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>I-cache misses</p></td>
<td><p>Number of I-cache misses (OOP, valid fetch &amp; miss)</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>instr committed - all</p></td>
<td><p>Number of all (16b+32b) instructions committed (IP, non-speculative, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>instr committed - 16b</p></td>
<td><p>Number of 16b instructions committed (IP, non-speculative, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>instr committed - 32b</p></td>
<td><p>Number of 32b instructions committed (IP, non-speculative, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>instr aligned - all</p></td>
<td><p>Number of all (16b+32b) instructions aligned (OOP, speculative, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>instr decoded - all</p></td>
<td><p>Number of all (16b+32b) instructions decoded (OOP, speculative, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>muls committed</p></td>
<td><p>Number of multiplications committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>divs committed</p></td>
<td><p>Number of divisions and remainders committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>loads committed</p></td>
<td><p>Number of loads committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>stores committed</p></td>
<td><p>Number of stores committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>misaligned loads</p></td>
<td><p>Number of misaligned loads (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>misaligned stores</p></td>
<td><p>Number of misaligned stores (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>alus committed</p></td>
<td><p>Number of ALU <a class="footnote-reference brackets" href="#fn-performance-2" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> operations committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>CSR read</p></td>
<td><p>Number of CSR read instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>CSR read/write</p></td>
<td><p>Number of CSR read/write instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>18</p></td>
<td><p>CSR write rd==0</p></td>
<td><p>Number of CSR write rd==0 instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ebreak</span></code></p></td>
<td><p>Number of ebreak instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>20</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ecall</span></code></p></td>
<td><p>Number of ecall instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>21</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fence</span></code></p></td>
<td><p>Number of fence instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>22</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fence.i</span></code></p></td>
<td><p>Number of fence.i instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>23</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mret</span></code></p></td>
<td><p>Number of mret instructions committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>24</p></td>
<td><p>branches committed</p></td>
<td><p>Number of branches committed (IP)</p></td>
</tr>
<tr class="row-odd"><td><p>25</p></td>
<td><p>branches mispredicted</p></td>
<td><p>Number of branches mispredicted (IP)</p></td>
</tr>
<tr class="row-even"><td><p>26</p></td>
<td><p>branches taken</p></td>
<td><p>Number of branches taken (IP)</p></td>
</tr>
<tr class="row-odd"><td><p>27</p></td>
<td><p>unpredictable branches</p></td>
<td><p>Number of unpredictable branches (IP)</p></td>
</tr>
<tr class="row-even"><td><p>28</p></td>
<td><p>cycles fetch stalled</p></td>
<td><p>Number of cycles fetch ready but stalled (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>29</p></td>
<td></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-even"><td><p>30</p></td>
<td><p>cycles decode stalled</p></td>
<td><p>Number of cycles one or more instructions valid in IB but decode stalled (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>31</p></td>
<td><p>cycles postsync stalled</p></td>
<td><p>Number of cycles postsync stalled at decode (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>32</p></td>
<td><p>cycles presync stalled</p></td>
<td><p>Number of cycles presync stalled at decode (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>33</p></td>
<td></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-even"><td><p>34</p></td>
<td><p>cycles SB/WB stalled (lsu_store_stall_any)</p></td>
<td><p>Number of cycles decode stalled due to SB or WB full (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>35</p></td>
<td><p>cycles DMA DCCM transaction stalled (dma_dccm_stall_any)</p></td>
<td><p>Number of cycles DMA stalled due to decode for load/store (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>36</p></td>
<td><p>cycles DMA ICCM transaction stalled (dma_iccm_stall_any)</p></td>
<td><p>Number of cycles DMA stalled due to fetch (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>37</p></td>
<td><p>exceptions taken</p></td>
<td><p>Number of exceptions taken (IP)</p></td>
</tr>
<tr class="row-even"><td><p>38</p></td>
<td><p>timer interrupts taken</p></td>
<td><p>Number of timer <a class="footnote-reference brackets" href="#fn-performance-3" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> interrupts taken (IP)</p></td>
</tr>
<tr class="row-odd"><td><p>39</p></td>
<td><p>external interrupts taken</p></td>
<td><p>Number of external interrupts taken (IP)</p></td>
</tr>
<tr class="row-even"><td><p>40</p></td>
<td><p>TLU flushes (flush lower)</p></td>
<td><p>Number of TLU flushes (flush lower) (IP)</p></td>
</tr>
<tr class="row-odd"><td><p>41</p></td>
<td><p>branch error flushes</p></td>
<td><p>Number of branch error flushes (IP)</p></td>
</tr>
<tr class="row-even"><td><p>42</p></td>
<td><p>I-bus transactions - instr</p></td>
<td><p>Number of instr transactions on I-bus interface (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>43</p></td>
<td><p>D-bus transactions - ld/st</p></td>
<td><p>Number of ld/st transactions on D-bus interface (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>44</p></td>
<td><p>D-bus transactions - misaligned</p></td>
<td><p>Number of misaligned transactions on D-bus interface (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>45</p></td>
<td><p>I-bus errors</p></td>
<td><p>Number of transaction errors on I-bus interface (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>46</p></td>
<td><p>D-bus errors</p></td>
<td><p>Number of transaction errors on D-bus interface (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>47</p></td>
<td><p>cycles stalled due to I- bus busy</p></td>
<td><p>Number of cycles stalled due to AXI4 or AHB-Lite I-bus busy (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>48</p></td>
<td><p>cycles stalled due to D- bus busy</p></td>
<td><p>Number of cycles stalled due to AXI4 or AHB-Lite D-bus busy (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>49</p></td>
<td><p>cycles interrupts disabled</p></td>
<td><p>Number of cycles interrupts disabled (MSTATUS.MIE==0) (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>cycles interrupts stalled while disabled</p></td>
<td><p>Number of cycles interrupts stalled while disabled (MSTATUS.MIE==0) (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>51 - 53</p></td>
<td></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-even"><td><p>54</p></td>
<td><p>bitmanip committed</p></td>
<td><p>Number of bit-manipulation operations committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>55</p></td>
<td><p>D-bus loads committed</p></td>
<td><p>Number of load instructions to D-bus committed (IP, 0/1)</p></td>
</tr>
<tr class="row-even"><td><p>56</p></td>
<td><p>D-bus stores committed</p></td>
<td><p>Number of store instructions to D-bus committed (IP, 0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>57 - 511</p></td>
<td></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-even"><td><p><strong>Events counted while in Active (C0) or Sleep (C3) states</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>512</p></td>
<td><p>cycles in Sleep (C3) state</p></td>
<td><p>Number of cycles in Sleep (C3) state (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>513</p></td>
<td><p>DMA reads (all)</p></td>
<td><p>Total number of DMA slave read transactions (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>514</p></td>
<td><p>DMA writes (all)</p></td>
<td><p>Total number of DMA slave write transactions (OOP)</p></td>
</tr>
<tr class="row-even"><td><p>515</p></td>
<td><p>DMA reads to DCCM</p></td>
<td><p>Number of DMA slave read transactions to DCCM (OOP)</p></td>
</tr>
<tr class="row-odd"><td><p>516</p></td>
<td><p>DMA writes to DCCM</p></td>
<td><p>Number of DMA slave write transactions to DCCM (OOP)</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If an event shown as â€˜Reservedâ€™ is selected, no error is reported but counter is not incrementing.</p>
</div>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="fn-performance-1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>The standard <code class="docutils literal notranslate"><span class="pre">mcountinhibit</span></code> register which was recently added to <a class="reference internal" href="intro.html#ref-2"><span class="std std-ref">[2]</span></a> replaces the non-standard mgpmc register of the previous VeeR generation. The <code class="docutils literal notranslate"><span class="pre">mcountinhibit</span></code> register provides the same functionality as the <code class="docutils literal notranslate"><span class="pre">mgpmc</span></code> register did, but at a much finer granularity (i.e., an enable/disable control bit per standard hardware performance counter instead of a single control bit for the <code class="docutils literal notranslate"><span class="pre">mhpmcounter3</span></code> - <code class="docutils literal notranslate"><span class="pre">mhpmcounter6</span></code> counters).</p>
</aside>
<aside class="footnote brackets" id="fn-performance-2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>NOP is an ALU operation. WFI is implemented as a NOP in VeeR EL2 and, hence, counted as an ALU operation was well.</p>
</aside>
<aside class="footnote brackets" id="fn-performance-3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>Events counted include interrupts triggered by the standard RISC-V platform-level timer as well as by the two internal timers.</p>
</aside>
</aside>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2025-05-21
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="interrupts.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: 8. External Interrupts" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              8. External Interrupts
            </div>
          </div>
        </a>
      
      
        
        <a href="cache.html" class="md-footer__link md-footer__link--next" aria-label="Next: 10. Cache Control" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              10. Cache Control
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        Copyright &#169; 2025 CHIPS Alliance The Linux FoundationÂ®.
        
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/antmicro" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/antmicro" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["toc.integrate"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
    
  </body>
</html>